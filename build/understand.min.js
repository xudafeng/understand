/*! understand v1.0.3 xdf 2014-04-25 11:54:36 */

!function(a,b){"use strict";return"function"==typeof define&&define.amd?define(["exports"],b):"undefined"!=typeof exports?b(exports):void b(a.understand||(a.understand={}))}(this,function(a){"use strict";function b(a){if(Object.create)return Object.create(a);var b=function(){};return b.prototype=a,new b}function c(a){function d(){if(!(this instanceof d))throw new Error("use new to create a class");this.__id=p(),v[this.__id]={},t[this.__id]={},a.apply(this,arguments)}a=a||function(){},a.superclass=a.superclass||j;var e=a.superclass.prototype;return l(e,u),d.prototype=b(e),d.prototype.constructor=d,l(d,{create:function(a){return a=a||function(){},a.superclass=this,c(a)},extend:function(){return o.apply(this,arguments)},parent:e,augment:function(){return o.apply(this.prototype,arguments)}}),d}function d(a,b){for(var c=s.call(t[this.__id][a]),d=0,e=c.length;e>d;d++){var f=l({},c[d]),g=f.scope?f.scope:this;f.scope=g,f.handler.call(f.scope,b,f)}}function e(a){var b=t[this.__id];a?delete b[a]:t[this.__id]={}}function f(a,b){for(var c in a)for(var d=a[c],e=c.split(" "),f=0,g=e.length;g>f;f++){var h=e[f];t[this.__id][h]||(t[this.__id][h]=[]),t[this.__id][h].push({id:this.__id,handler:d,scope:b,type:h})}}function g(a){return v[a]}function h(a,b){v[this.__id][a]=b,this.emit("change",a),this.emit("change:"+a,b);var c=this.has(a)?"update":"create";this.emit(c,a),this.emit(c+":"+a,b)}function i(a){for(var b=m(a).split(" "),c=0,d=b.length;d>c;c++){var e=m(b[c]);e&&(delete g(this.__id)[e],this.emit("change",e),this.emit("change:"+e),this.emit("delete",e),this.emit("delete:"+e))}}function j(){}function k(a){return null===a||"undefined"==typeof a?String(a):Object.prototype.toString.call(a).replace(/\[object |\]/g,q).toLowerCase()}function l(){for(var a=s.call(arguments),b=a.shift(),c=0,d=a.length;d>c;c++){var e=a[c];for(var f in e)b[f]=e[f]}return b}function m(a){return a.replace(/^\s\s*/,q).replace(/\s\s*$/,q)}function n(a){var b=k(a);return"object"===b?l({},a):"array"===b?a.slice(0):void 0}function o(){var a=s.call(arguments);return a.unshift(this),l.apply(this,a)}function p(){return r++}var q="",r=0,s=Array.prototype.slice,t={},u={on:function(){f.apply(this,arguments)},emit:function(a,b){for(var c=a.split(" "),e=0,f=c.length;f>e;e++){var g=c[e];t[this.__id][g]&&d.call(this,g,"undefined"===k(b)?null:b)}},detach:function(){e.apply(this,arguments)}},v={};j.prototype={get:function(a){return this.has(a)?g(this.__id)[a]:null},set:function(a,b){if("object"===k(a))for(var c in a)h.call(this,c,a[c]);else h.call(this,a,b);return this},remove:function(a){if("function"===k(a)){var b=v[this.__id];for(var c in b)i.call(this,b[c].id);return this}return"undefined"===k(a)?(v[this.__id]={},this.emit("change delete")):i.call(this,a),this},all:function(){return n(g(this.__id))},has:function(a){return!("undefined"==k(g(this.__id)[a]))},size:function(){var a=0,b=g(this.__id);for(var c in b)a++;return a},filter:function(a){var b=[],c=g(this.__id);for(var d in c)a.call(this,c[d],d)&&b.push(c[d]);return b},update:function(a,b){if(b)h.call(this,a,b.call(this,this.get(a),a));else for(var c in v[this.__id])h.call(this,c,a.call(this,v[this.__id][c]));return this}},a._={clone:n,extend:l,trim:m,typeOf:k,guid:p},a.extend=function(){return o.apply(j.prototype,arguments)},a.create=function(a){return c(a)},a.version="1.0.3"});
//# sourceMappingURL=understand.min.map